<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Download Car Maintenance App</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 500px;
      margin: auto;
      text-align: center;
    }
    h1 {
      color: #007bff;
    }
    #message {
      margin-top: 20px;
      font-size: 1rem;
      color: red;
      display: none;
    }
    #download-button {
      background-color: #007bff;
      color: white;
      border: none;
      padding: 15px 30px;
      font-size: 1.2rem;
      cursor: pointer;
      border-radius: 6px;
      text-decoration: none;
      display: inline-block;
      margin-top: 30px;
    }
  </style>
</head>
<body>
  <h1>Car Maintenance App</h1>
  <p>Click the button below to download the APK.</p>

  <a id="download-button" href="https://github.com/MostafaM117/car_maintenance_app/releases/download/V2.0/Car_Maintenance_app.apk" download>
    Download APK
  </a>

  <p id="message">
    It looks like you're opening this in an app that doesn't support downloads.<br />
    Please open this page in your browser (like Chrome) to download the app.
  </p>

  <script>
    // Detect WebView environment
    function isInWebView() {
      const userAgent = navigator.userAgent || navigator.vendor || window.opera;

      // Basic heuristic: 
      // Most browsers include "Chrome" or "Firefox" in UA,
      // WebView often doesn't or has "wv" or "WebView" substring
      const isAndroid = /Android/.test(userAgent);
      const isWebViewAndroid = isAndroid && /wv|WebView/.test(userAgent);

      // iOS WebView detection
      const isIOS = /iPhone|iPad|iPod/.test(userAgent);
      const standalone = window.navigator.standalone;
      const isWebViewIOS = isIOS && !/Safari/.test(userAgent) && !standalone;

      return isWebViewAndroid || isWebViewIOS;
    }

    if (isInWebView()) {
      // Hide download button and show message
      document.getElementById('download-button').style.display = 'none';
      document.getElementById('message').style.display = 'block';
    }
  </script>
</body>
</html>
